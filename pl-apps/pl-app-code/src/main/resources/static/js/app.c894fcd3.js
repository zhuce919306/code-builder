(function(e){function t(t){for(var n,i,r=t[0],l=t[1],c=t[2],u=0,p=[];u<r.length;u++)i=r[u],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);d&&d(t);while(p.length)p.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,r=1;r<a.length;r++){var l=a[r];0!==o[l]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},o={app:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"12c7":function(e,t,a){},"13a0":function(e,t,a){"use strict";a("12c7")},2395:function(e,t,a){},"329d":function(e,t,a){"use strict";a("c26a")},"358a":function(e,t,a){},"3f34":function(e,t,a){"use strict";a("ee5b")},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function o(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=s,e.exports=o,o.id="4678"},"46fd":function(e,t,a){},"484d":function(e,t,a){"use strict";a("bb16")},4855:function(e,t,a){"use strict";a("ab70")},"4f77":function(e,t,a){"use strict";a("46fd")},"552c":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},s=[],i={name:"App",components:{}},r=i,l=(a("7c55"),a("2877")),c=Object(l["a"])(r,o,s,!1,null,null,null),d=c.exports,u=a("f23d"),p=(a("202f"),a("b0c0"),a("8c4f")),m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-layout",{staticClass:"layout"},[a("a-layout-sider",{staticClass:"layout-sider-left",attrs:{theme:"light",width:"240",collapsible:!0,collapsed:e.collapsed}},[a("a-layout-header",{staticClass:"ant-layout-sider-light log-group"},[a("logo",{attrs:{collapse:e.collapsed}})],1),a("div",{staticClass:"datasource-list"},[a("a-menu",{staticStyle:{width:"100%"},attrs:{mode:"inline","selected-keys":e.selectIds,"inline-collapsed":e.collapsed},on:{select:e.bindOnSelect}},[a("a-menu-item",{key:"datasource"},[a("span",[a("a-icon",{attrs:{type:"folder"}}),a("span",[e._v("所有数据源")])],1)]),e._l(e.datasourceList,(function(t){return a("a-menu-item",{key:t.id+""},[a("span",[a("a-icon",{attrs:{type:"database"}}),a("span",[e._v(e._s(t.name))])],1)])}))],2)],1)],1),a("a-layout",[a("a-layout-header",{staticClass:"ant-layout-sider-light layout-header"},[a("div",{staticClass:"header-view"},[a("div",{staticClass:"header-left"},[a("a-button",{attrs:{type:"link",icon:e.collapsed?"menu-unfold":"menu-fold",size:"small"},on:{click:e.bindOnCollapsed}})],1),a("div",{staticClass:"header-body"},[a("a-auto-complete",{staticClass:"ds-search",attrs:{"dropdown-match-select-width":!1,size:"large",placeholder:"搜索","option-label-prop":"title"},on:{select:e.bindOnSeachSelect}},[a("template",{slot:"dataSource"},e._l(e.searchDatasource,(function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id+"",title:t.name}},[e._v(" "+e._s(t.name)+" ")])})),1),a("a-input",{staticClass:"search-input",attrs:{placeholder:"搜索"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}},[a("a-icon",{attrs:{slot:"prefix",type:"search"},slot:"prefix"})],1)],2)],1),a("div",{staticClass:"header-right"},[a("a-button",{attrs:{shape:"circle",icon:"database",size:"small"},on:{click:function(t){return e.toView("/datasource/index")}}}),a("a-button",{attrs:{shape:"circle",icon:"setting",size:"small"},on:{click:function(t){return e.toView("/config/index")}}})],1)])]),a("a-layout-content",{staticClass:"layout-body"},[a("router-view")],1)],1)],1)},f=[],b=a("2909"),g=a("5530"),v=(a("4de4"),a("2ca0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logo-view",class:e.collapse?"center":""},e._l(e.logoAry,(function(t,n){return a("span",{key:n,style:{color:e.getColor(n),fontSize:e.fontSize}},[e._v(e._s(t))])})),0)}),h=[],y=(a("a9e3"),a("a434"),a("ac1f"),a("1276"),{name:"logo",props:{logo:{type:String,default:"PL-Generator"},color:{type:Array,default:function(){return["#409EFF","#F56C6C","#303133","#409EFF","#67C23A","#E6A23C","#F56C6C","#303133","#303133","#303133","#303133","#303133","#303133","#303133","#303133"]}},defaultColor:{type:String,default:"#409EFF"},size:{type:[String,Number],default:"20px"},collapse:{type:Boolean,default:!1}},computed:{logoAry:function(){return this.collapse?this.logo.split("").splice(0,2):this.logo.split("")},fontSize:function(){var e=this.size+"";return e.indexOf("px")?e:e+"px"}},methods:{getColor:function(e){return e>this.color.length?this.defaultColor:this.color[e]}}}),C=y,k=(a("13a0"),Object(l["a"])(C,v,h,!1,null,"99aff4cc",null)),_=k.exports,j=a("2f62"),w={name:"index",components:{logo:_},computed:Object(g["a"])(Object(g["a"])({},Object(j["b"])(["datasourceList"])),{},{searchDatasource:function(){var e=this;if(!this.datasourceList)return[];var t=Object(b["a"])(this.datasourceList);return this.keywords?(console.log(t.filter((function(t){return-1!=t.name.indexOf(e.keywords)}))),t.filter((function(t){return-1!=t.name.indexOf(e.keywords)}))):t}}),data:function(){return{collapsed:!1,keywords:null,headerBarVisible:!1,selectIds:["datasource"]}},created:function(){this.$store.dispatch("refreshDsMenus")},methods:{bindOnCollapsed:function(){this.collapsed=!this.collapsed},toView:function(e){this.$route.path!=e&&this.$router.push(e)},bindOnSelect:function(e){var t=e.key;if("datasource"==t)return this.$router.push({path:"/datasource/index"}),void(this.selectIds[0]="datasource");var a=this.datasourceList.filter((function(e){return e.id==t}));a&&this.$router.push({path:"/datasource/".concat(t),query:{dsName:a[0].name}})},bindOnSeachSelect:function(e){this.bindOnSelect({key:e})},setActiveMenu:function(){if(this.$route.path.startsWith("/datasource")){var e=this.$route.params.id;e?this.selectIds[0]=e:"/datasource/index"==this.$route.path?this.selectIds[0]="datasource":this.selectIds[0]=""}else this.selectIds[0]=""}},watch:{$route:{handler:function(){this.setActiveMenu()},immediate:!0}}},x=w,D=(a("ce76"),Object(l["a"])(x,m,f,!1,null,"a7721a60",null)),T=D.exports,S=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("page-view",[a("template",{slot:"header-bar"},[a("a-button",{attrs:{icon:"plus"},on:{click:e.addDatasource}},[e._v("新增")])],1),a("div",{staticClass:"body",attrs:{slot:"body"},slot:"body"},[a("a-table",{attrs:{size:"small","table-layout":"fixed",columns:e.tableColumns,"data-source":e.tableData,pagination:e.pagination,loading:e.loading,rowKey:"id",bordered:!1},scopedSlots:e._u([{key:"index",fn:function(t,n,o){return a("span",{},[e._v(" "+e._s((e.pagination.current-1)*e.pagination.size+parseInt(o)+1)+" ")])}},{key:"connectionType",fn:function(t,n){return a("span",{},[e._v(e._s(0==n.connectionType?"主机连接":"URL连接"))])}},{key:"Action",fn:function(t){return[a("a-button",{attrs:{type:"link",size:"small"},on:{click:function(a){return e.openDatasource(t)}}},[e._v("进入数据源")]),a("a-button",{attrs:{type:"link",size:"small"},on:{click:function(a){return e.updateDatasource(t)}}},[e._v("修改")]),a("a-button",{attrs:{type:"link",size:"small"}},[e._v("删除")])]}}])}),a("edit-form",{ref:"editForm",on:{change:e.bindOnEditChange}})],1)],2)},$=[],N=(a("99af"),a("159b"),a("d3b7"),a("bc3a")),O=a.n(N),P=a("f64c"),A={"000":"操作太频繁，请勿重复请求",401:"当前操作没有权限",403:"当前操作没有权限",404:"资源不存在",417:"未绑定登录账号，请使用密码登录后绑定",423:"演示环境不能操作，如需了解联系我们",426:"用户名不存在或密码错误",428:"验证码错误,请重新输入",429:"请求过频繁",479:"演示环境，没有权限操作",default:"系统未知错误,请反馈给管理员"};O.a.defaults.timeout=3e4,O.a.defaults.validateStatus=function(e){return e>=200&&e<=500},O.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),O.a.interceptors.response.use((function(e){var t=e.config,a=Number(e.status)||200;if("arraybuffer"==t.responseType){var n=e.data.msg||A[a]||A["default"];return 200!==a?(n.error({content:n}),Promise.reject(new Error(n))):e.data}var o=e.data;return 1!==o.code?(P["a"].error({content:o.message||"错误"}),Promise.reject(new Error(o.message||"错误"))):o.data}),(function(e){return P["a"].error({message:e.message}),Promise.reject(e)}));var I=O.a,E="",z="/datasource",R=function(e,t,a){return I({url:"".concat(E).concat(z,"/page"),method:"get",params:{pageSize:e,pageNo:t,keywords:a}})},M=function(e){return I({url:"".concat(E).concat(z,"/list"),method:"get",params:{keywords:e}})},L=function(e){return I({url:"".concat(E).concat(z,"/add"),method:"put",params:e})},F=function(e){return I({url:"".concat(E).concat(z,"/update"),method:"post",params:e})},q=function(e){return I({url:"".concat(E).concat(z,"/").concat(e),method:"get"})};var B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:null!=e.datasource.id?"修改数据源":"新增数据源",visible:e.visible,width:"50%",okText:"保存",cancelText:"取消"},on:{cancel:e.cancel,ok:e.bindOnSave}},[a("div",{staticClass:"edit-form pl-form-line"},[a("a-form-item",{attrs:{label:"名称"}},[a("a-input",{attrs:{required:!0,placeholder:"请输入数据源名称"},model:{value:e.datasource.name,callback:function(t){e.$set(e.datasource,"name",t)},expression:"datasource.name"}})],1),a("a-form-item",{attrs:{label:"配置项"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择配置，为空则根据默认配置生成"},model:{value:e.datasource.dbType,callback:function(t){e.$set(e.datasource,"dbType",t)},expression:"datasource.dbType"}},e._l(e.dbTypes,(function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id,disabled:t.disable}},[e._v(e._s(t.name)+" ")])})),1)],1),a("a-form-item",{attrs:{label:"连接方式"}},[a("a-radio-group",{attrs:{name:"radioGroup","default-value":0},model:{value:e.datasource.connectionType,callback:function(t){e.$set(e.datasource,"connectionType",t)},expression:"datasource.connectionType"}},[a("a-radio",{attrs:{value:0}},[e._v("主机连接")]),a("a-radio",{attrs:{value:1}},[e._v("URL连接")])],1)],1),"0"==e.datasource.connectionType?a("div",{staticClass:"connection-host"},[a("a-form-item",{attrs:{label:"主机IP"}},[a("a-input",{attrs:{required:!0,placeholder:"请输入主机IP"},model:{value:e.datasource.host,callback:function(t){e.$set(e.datasource,"host",t)},expression:"datasource.host"}})],1),a("a-form-item",{attrs:{label:"端口"}},[a("a-input",{attrs:{required:!0,placeholder:"请输入端口"},model:{value:e.datasource.port,callback:function(t){e.$set(e.datasource,"port",t)},expression:"datasource.port"}})],1),a("a-form-item",{attrs:{label:"数据库"}},[a("a-input",{attrs:{required:!0,placeholder:"请输入数据库名称"},model:{value:e.datasource.dbName,callback:function(t){e.$set(e.datasource,"dbName",t)},expression:"datasource.dbName"}})],1)],1):a("div",{staticClass:"connection-url"},[a("a-form-item",{attrs:{label:"连接地址"}},[a("a-textarea",{attrs:{"auto-size":{minRows:4,maxRows:6},required:!0,placeholder:"请输入连接地址"},model:{value:e.datasource.url,callback:function(t){e.$set(e.datasource,"url",t)},expression:"datasource.url"}})],1)],1),a("a-form-item",{attrs:{label:"用户名"}},[a("a-input",{attrs:{required:!0,placeholder:"请输入用户名"},model:{value:e.datasource.username,callback:function(t){e.$set(e.datasource,"username",t)},expression:"datasource.username"}})],1),a("a-form-item",{attrs:{label:"密码"}},[a("a-input",{attrs:{type:"password",required:!0,placeholder:"请输入密码"},model:{value:e.datasource.password,callback:function(t){e.$set(e.datasource,"password",t)},expression:"datasource.password"}})],1)],1)])},V=[],U={id:null,name:null,connectionType:0,username:null,password:null,dbType:"mysql",host:null,port:"3306",instance:null,dbName:null,url:null},G=[{id:"mysql",name:"MySQL",disable:!1},{id:"pg",name:"pg",disable:!0},{id:"sqlserver",name:"SqlServer",disable:!0},{id:"oracle",name:"oracle",disable:!0},{id:"db2",name:"db2",disable:!0}],X={name:"edit-form",data:function(){return{dbTypes:G,visible:!1,form:this.$form.createForm(this,{name:"coordinated"}),datasource:Object(g["a"])({},U)}},methods:{show:function(e){e&&(this.datasource=e),this.visible=!0},bindOnSave:function(){var e=this,t=Object(g["a"])({},this.datasource);t.id?F(t).then((function(){e.saveSuccess()})):L(t).then((function(){e.saveSuccess()}))},cancel:function(){this.datasource=Object(g["a"])({},U),this.visible=!1,this.$emit("change")},saveSuccess:function(){P["a"].success({content:"成功"}),this.cancel()}}},W=X,H=Object(l["a"])(W,B,V,!1,null,"28b965f0",null),J=H.exports,K=[{key:"index",title:"序号",dataIndex:"index",width:55,align:"center",scopedSlots:{customRender:"index"}},{key:"name",title:"名称",dataIndex:"name",width:180},{key:"connectionType",title:"连接方式",dataIndex:"connectionType",scopedSlots:{customRender:"connectionType"},width:180},{key:"url",title:"URL",dataIndex:"url",width:300,ellipsis:!0},{key:"username",title:"用户名",dataIndex:"username",width:180},{title:"操作",key:"Action",scopedSlots:{customRender:"Action"},fixed:"right",width:280,align:"center"}],Q={showTotal:function(e){return"共有 ".concat(e," 条数据")},total:0,size:"10",current:1},Y={name:"index",components:{EditForm:J},data:function(){return{pagination:Q,tableColumns:K,tableData:[],loading:!1}},mounted:function(){this.loadData()},methods:{loadData:function(){var e=this;this.loading=!0,R(this.pagination.size,this.pagination.current,null).then((function(t){e.loading=!1,e.tableData=t.records,e.pagination.current=t.current,e.pagination.total=t.total})).catch((function(){e.loading=!1}))},openDatasource:function(e){this.$router.push({path:"/datasource/".concat(e.id),query:{dsName:e.name}})},openTableDesign:function(e){this.$router.push({path:"/datasource/design/".concat(e.id),query:{dsName:e.name}})},addDatasource:function(){this.$refs.editForm.show()},updateDatasource:function(e){this.$refs.editForm.show(e)},bindOnEditChange:function(){this.loadData()}}},Z=Y,ee=Object(l["a"])(Z,S,$,!1,null,"434a57f3",null),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("page-view",{ref:"pageView"},[a("div",{staticClass:"body",attrs:{slot:"body"},slot:"body"},[a("pl-table",{ref:"dsTableList",attrs:{columns:e.tableColumns,"load-method":e.loadData,size:"small",pageData:{dsName:e.ds},"row-key":"tableName"},scopedSlots:e._u([{key:"tableAction",fn:function(t){var n=t.row;return[a("a-button",{attrs:{type:"link",size:"small"},on:{click:function(t){return e.bindOnShowGenerate(n)}}},[e._v("生成代码")])]}}])}),a("generate-dialog",{ref:"generateDialog"})],1)])},ne=[],oe="",se="/table",ie=function(e,t,a,n){return I({url:"".concat(oe).concat(se,"/page"),method:"get",params:{pageSize:e,pageNo:t,dsName:a,tableName:n}})},re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"generate-view"},[a("a-modal",{attrs:{title:"生成",visible:e.visible,width:"800px",cancelText:"取消",okText:"确定"},on:{cancel:e.handleCancel}},[a("div",{staticClass:"generate-form"},[a("a-row",{staticClass:"config-item"},[a("a-row",{staticClass:"item-view",attrs:{gutter:[16,16]}},[a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"配置项"}},[a("a-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择配置，为空则根据默认配置生成"},on:{change:e.handleSelectConfigChange},model:{value:e.generateConfig.configId,callback:function(t){e.$set(e.generateConfig,"configId",t)},expression:"generateConfig.configId"}},e._l(e.configList,(function(t){return a("a-select-option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name)+" ")])})),1)],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"表前缀"}},[a("a-input",{attrs:{required:!0,placeholder:"生成时会清除表前缀"},model:{value:e.generateConfig.tablePrefix,callback:function(t){e.$set(e.generateConfig,"tablePrefix",t)},expression:"generateConfig.tablePrefix"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"包名"}},[a("a-input",{attrs:{required:!0,placeholder:"基础包名，默认：com.pl"},model:{value:e.generateConfig.packageName,callback:function(t){e.$set(e.generateConfig,"packageName",t)},expression:"generateConfig.packageName"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"作者"}},[a("a-input",{attrs:{required:!0,placeholder:"默认：plserver generate"},model:{value:e.generateConfig.author,callback:function(t){e.$set(e.generateConfig,"author",t)},expression:"generateConfig.author"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"模块"}},[a("a-input",{attrs:{required:!0,placeholder:"生成时会在包名后追加模块名"},model:{value:e.generateConfig.moduleName,callback:function(t){e.$set(e.generateConfig,"moduleName",t)},expression:"generateConfig.moduleName"}})],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"注释"}},[a("a-input",{attrs:{required:!0,placeholder:"注释"},model:{value:e.generateConfig.codeAnnotation,callback:function(t){e.$set(e.generateConfig,"codeAnnotation",t)},expression:"generateConfig.codeAnnotation"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{staticClass:"generate-select",attrs:{label:"代码风格"}},[a("a-radio-group",{attrs:{name:"radioGroup"},model:{value:e.generateConfig.style,callback:function(t){e.$set(e.generateConfig,"style",t)},expression:"generateConfig.style"}},[a("a-radio",{attrs:{value:"pl-web"}},[e._v(" PL-WEB")]),a("a-radio",{attrs:{value:"mybatis-plus"}},[e._v(" Mybatis-Plus")]),a("a-radio",{attrs:{value:"mybatis"}},[e._v(" Mybatis")])],1)],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"是否装配"}},[a("a-switch",{model:{value:e.generateConfig.wired,callback:function(t){e.$set(e.generateConfig,"wired",t)},expression:"generateConfig.wired"}}),a("a-popover",{attrs:{placement:"topLeft"}},[a("template",{slot:"content"},[a("div",{staticClass:"qa-content"},[a("div",[e._v(" 1."),a("span",{staticClass:"code"},[e._v("Servicer")]),e._v("层将装配所对应的"),a("span",{staticClass:"code"},[e._v("Mapper")]),e._v("。 ")]),a("div",[e._v(" 2."),a("span",{staticClass:"code"},[e._v("Controller")]),e._v("层将装配所对应的"),a("span",{staticClass:"code"},[e._v("Service")]),e._v("。 ")])])]),a("a-icon",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{type:"alert"}})],2)],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"装配方式"}},[a("a-radio-group",{attrs:{name:"radioGroup",disabled:!e.generateConfig.wired},model:{value:e.generateConfig.wiredType,callback:function(t){e.$set(e.generateConfig,"wiredType",t)},expression:"generateConfig.wiredType"}},[a("a-radio",{attrs:{value:"resource"}},[e._v(" @Resource")]),a("a-radio",{attrs:{value:"autoWired"}},[e._v(" @AutoWired")]),a("a-radio",{attrs:{value:"constructor"}},[e._v(" 构造方法")])],1)],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"swagger"}},[a("a-switch",{model:{value:e.generateConfig.swagger,callback:function(t){e.$set(e.generateConfig,"swagger",t)},expression:"generateConfig.swagger"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{staticClass:"generate-select",attrs:{label:"生成模板"}},[a("a-checkbox-group",{attrs:{options:e.templateList},model:{value:e.generateConfig.templates,callback:function(t){e.$set(e.generateConfig,"templates",t)},expression:"generateConfig.templates"}})],1)],1)],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("a-button",{attrs:{icon:"eye"},on:{click:e.generate}},[e._v("预览")]),a("a-button",{attrs:{type:"primary",icon:"download"},on:{click:e.download}},[e._v("下载")])],1)]),a("code-dialog",{ref:"codeDialog"})],1)},le=[],ce="",de="/config",ue=function(e){return I({url:"".concat(ce).concat(de,"/").concat(e),method:"get"})},pe=function(e,t,a){return I({url:"".concat(ce).concat(de,"/page"),method:"get",params:{pageSize:e,pageNo:t,keywords:a}})},me=function(e){return I({url:"".concat(ce).concat(de,"/list"),method:"get",params:{keywords:e}})},fe=function(e,t){return I({url:"".concat(ce).concat(de,"/save"),method:"put",data:{name:e,configContent:t}})},be=function(e,t,a){return I({url:"".concat(ce).concat(de,"/update"),method:"post",data:{id:e,name:t,configContent:a}})},ge=function(e,t){var a="".concat(ce).concat(de,"/").concat(t?"delete/batch":"delete/"+e),n=t?{ids:ve(e)}:null;return I({url:a,method:"delete",params:n})};function ve(e){var t="";return e.forEach((function(e){t+=",".concat(e)})),t.substr(1)}a("3ca3"),a("ddb0"),a("2b3d");var he,ye,Ce="",ke="/generate",_e=function(e){return I({url:"".concat(Ce).concat(ke,"/show"),method:"post",data:e})},je=function(e){return I({url:"".concat(Ce).concat(ke,"/download"),method:"post",data:e,responseType:"arraybuffer"}).then((function(t){var a=new Blob([t],{type:"application/zip"}),n=e.tableName+".zip",o=document.createElement("a");o.href=URL.createObjectURL(a),o.download=n,document.body.appendChild(o),o.click(),window.setTimeout((function(){URL.revokeObjectURL(a),document.body.removeChild(o)}),0)}))},we=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-modal",{attrs:{title:"生成",visible:e.visible,width:"80%"},on:{cancel:e.handleCancel}},[a("a-tabs",{attrs:{"default-active-key":"entityCode"}},[e.code.entity?a("a-tab-pane",{key:"entityCode",attrs:{tab:"Entity"}},[a("code-editor",{ref:"entityCode",attrs:{"mode-type":"java",id:"entityCode",value:e.code.entity}})],1):e._e(),e.code.mapperXml?a("a-tab-pane",{key:"mapperCode",attrs:{tab:"Mapper"}},[a("code-editor",{ref:"mapperCode",attrs:{"mode-type":"java",id:"mapperCode",value:e.code.mapper}})],1):e._e(),e.code.mapperXml?a("a-tab-pane",{key:"mapperXmlCode",attrs:{tab:"MapperXML"}},[a("code-editor",{ref:"mapperXmlCode",attrs:{"mode-type":"xml",id:"mapperXmlCode",value:e.code.mapperXml}})],1):e._e(),e.code.service?a("a-tab-pane",{key:"serviceCode",attrs:{tab:"Service"}},[a("code-editor",{ref:"serviceCode",attrs:{"mode-type":"java",id:"serviceCode",value:e.code.service}})],1):e._e(),e.code.serviceImpl?a("a-tab-pane",{key:"serviceImplCode",attrs:{tab:"ServiceImpl"}},[a("code-editor",{ref:"serviceImplCode",attrs:{"mode-type":"java",id:"serviceImplCode",value:e.code.serviceImpl}})],1):e._e(),e.code.controller?a("a-tab-pane",{key:"controllerCode",attrs:{tab:"Controller"}},[a("code-editor",{ref:"controllerCode",attrs:{"mode-type":"java",id:"controllerCode",value:e.code.controller}})],1):e._e()],1)],1)},xe=[],De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{className:"json-editor"}},[a("textarea",{ref:"textarea"})])},Te=[],Se=a("56b3"),$e=a.n(Se),Ne=(a("a7be"),a("b866"),a("4ba6"),{props:{value:{type:String,required:!0},height:{type:String,default:"600px",required:!0}},data:function(){return{editor:!1}},watch:{value:function(e){var t=this.editor.getValue();e!==t&&this.editor.setValue(this.value)},height:function(e){this.editor.setSize("auto",this.height)}},mounted:function(){this.editor=$e.a.fromTextArea(this.$refs.textarea,{mode:"text/x-java",lineNumbers:!0,lint:!0,lineWrapping:!0,tabSize:2,cursorHeight:.9,theme:"idea",readOnly:!0}),this.editor.setSize("auto",this.height),this.editor.setValue(this.value)},methods:{getValue:function(){return this.editor.getValue()}}}),Oe=Ne,Pe=(a("64c6"),Object(l["a"])(Oe,De,Te,!1,null,"0e65d91d",null)),Ae=Pe.exports,Ie={name:"code-dialog",components:{CodeEditor:Ae},data:function(){return{visible:!1,code:{entity:null,mapper:null,mapperXml:null,service:null,serviceImpl:null,controller:null}}},methods:{show:function(e){this.code=e,this.visible=!0},handleCancel:function(){this.visible=!1}}},Ee=Ie,ze=Object(l["a"])(Ee,we,xe,!1,null,"60ed2e9a",null),Re=ze.exports,Me=["Entity","Mapper","MapperXML","Service","ServiceImpl","Controller"],Le={name:"generate-dialog",components:{CodeDialog:Re},data:function(){return{visible:!1,configList:[],templateList:Me,generateConfig:{dsName:null,tableName:null,configId:null,packageName:null,author:null,tablePrefix:null,moduleName:null,codeAnnotation:null,style:"pl-web",wired:!0,wiredType:"resource",swagger:!0,templates:Me}}},methods:{show:function(e,t){this.generateConfig.dsName=e,this.generateConfig.tableName=t,this.visible=!0,this.getConfigList()},getConfigList:function(){var e=this;me().then((function(t){e.configList=t}))},generate:function(){var e=this;_e(this.generateConfig).then((function(t){e.$refs.codeDialog.show(t)}))},download:function(){je(this.generateConfig)},handleCancel:function(){this.visible=!1},handleSelectConfigChange:function(e){var t=this;ue(e).then((function(e){var a=e.config;t.generateConfig.tablePrefix=a.tablePrefix,t.generateConfig.packageName=a.packageName,t.generateConfig.author=a.author,t.generateConfig.style=a.style,t.generateConfig.wired=a.wired,t.generateConfig.wiredType=a.wiredType,t.generateConfig.swagger=a.swagger}))}}},Fe=Le,qe=(a("484d"),Object(l["a"])(Fe,re,le,!1,null,"6274d54c",null)),Be=qe.exports,Ve=function(e,t){return ie(e.size,e.current,t.dsName,null)},Ue=[{key:"index",title:"序号",dataIndex:"index",width:55,align:"center",scopedSlots:{customRender:"index"}},{key:"tableName",title:"表名",dataIndex:"tableName",width:180},{key:"tableComment",title:"注释",dataIndex:"tableComment",width:300,ellipsis:!0},{key:"createTime",title:"创建时间",dataIndex:"createTime",width:180},{title:"操作",key:"Action",scopedSlots:{customRender:"Action"},fixed:"right",width:280,align:"center"}],Ge={name:"datasource-info",components:{GenerateDialog:Be},data:function(){return{loadData:Ve,id:null,ds:null,tableColumns:Ue}},created:function(){this.id=this.$route.params.id,this.ds=this.$route.query.dsName,this.getDsInfo()},methods:{getDsInfo:function(){var e=this;q(this.id).then((function(t){e.ds=t.name,e.$refs.pageView.setTitle(t.name)}))},bindOnShowGenerate:function(e){this.$refs.generateDialog.show(this.ds,e.tableName)}},watch:{$route:{handler:function(){var e=this.$route.params.id,t=this.$route.query.dsName;this.id=e,this.ds=t,this.getDsInfo(),this.$refs.dsTableList&&this.$refs.dsTableList.loadData()},immediate:!0}}},Xe=Ge,We=Object(l["a"])(Xe,ae,ne,!1,null,"1cfc4ddd",null),He=We.exports,Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("page-view",{ref:"pageView"},[a("template",{slot:"header-bar"},[a("a-button-group",[a("a-button",{attrs:{icon:"plus"}},[e._v("创建表")]),a("a-button",{attrs:{icon:"bars"},on:{click:e.changeCommonFieldVisible}},[e._v("公共字段")])],1)],1),a("div",{staticClass:"body",attrs:{slot:"body"},slot:"body"},[a("pl-table",{attrs:{columns:e.TABLE_COLUMNS,"load-method":e.loadData,size:"small",pageData:{dsName:e.ds},"row-key":"tableName"}},[a("template",{slot:"tableAction"},[a("a-button",{attrs:{type:"link",size:"small"}},[e._v("表结构设计")])],1)],2),a("a-drawer",{attrs:{title:"公共字段",placement:"right",closable:!1,width:"420px",visible:e.commonFieldVisible},on:{close:e.changeCommonFieldVisible}},[a("p",[e._v("Some contents...")]),a("p",[e._v("Some contents...")]),a("p",[e._v("Some contents...")])])],1)],2)},Ke=[],Qe=function(e,t){return ie(e.size,e.current,t.dsName,null)},Ye=[{key:"index",title:"序号",dataIndex:"index",width:55,align:"center",scopedSlots:{customRender:"index"}},{key:"tableName",title:"表名",dataIndex:"tableName",width:180},{key:"tableComment",title:"注释",dataIndex:"tableComment",width:300,ellipsis:!0},{key:"createTime",title:"创建时间",dataIndex:"createTime",width:180},{title:"操作",key:"Action",scopedSlots:{customRender:"Action"},fixed:"right",width:280,align:"center"}],Ze={name:"table-design",data:function(){return{loadData:Qe,TABLE_COLUMNS:Ye,id:null,ds:null,commonFieldVisible:!1}},created:function(){this.id=this.$route.params.id,this.ds=this.$route.query.dsName,this.getDsInfo()},methods:{changeCommonFieldVisible:function(){this.commonFieldVisible=!this.commonFieldVisible},getDsInfo:function(){var e=this;q(this.id).then((function(t){e.ds=t.name,e.$refs.pageView.setTitle(t.name)}))}}},et=Ze,tt=Object(l["a"])(et,Je,Ke,!1,null,"523b5bc1",null),at=tt.exports,nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("page-view",[a("template",{slot:"header-bar"},[a("a-button",{attrs:{icon:"appstore"},on:{click:function(t){return e.toInfoView("info",-1)}}},[e._v("默认配置")]),a("a-button",{attrs:{icon:"plus"},on:{click:function(t){return e.toInfoView("add",null)}}},[e._v("新增")])],1),a("div",{staticClass:"body",attrs:{slot:"body"},slot:"body"},[a("pl-table",{attrs:{columns:e.tableColumns,"load-method":e.loadData,size:"small"},scopedSlots:e._u([{key:"tableAction",fn:function(t){var n=t.row;return[a("a-button",{attrs:{type:"link",size:"small"},on:{click:function(t){return e.toInfoView("info",n.id)}}},[e._v("详情")])]}}])})],1)],2)},ot=[],st=[{key:"index",title:"序号",dataIndex:"index",width:55,align:"center",scopedSlots:{customRender:"index"}},{key:"name",title:"名称",dataIndex:"name",width:180},{key:"createTime",title:"创建时间",dataIndex:"createTime",width:180,ellipsis:!0},{key:"updateTime",title:"更新时间",dataIndex:"updateTime",width:180},{title:"操作",key:"Action",scopedSlots:{customRender:"Action"},fixed:"right",width:280,align:"center"}],it=function(e){return pe(e.size,e.current,null)},rt={name:"index",data:function(){return{loadData:it,tableColumns:st}},methods:{toInfoView:function(e,t){t?this.$router.push("/config/".concat(e,"/").concat(t)):this.$router.push("/config/".concat(e))}}},lt=rt,ct=Object(l["a"])(lt,nt,ot,!1,null,"79db3989",null),dt=ct.exports,ut=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("page-view",{ref:"pageView"},[a("template",{slot:"header-bar"},["info"==e.type&&-1!=e.id?a("div",[a("a-button",{attrs:{icon:"edit",type:"primary"},on:{click:function(t){return e.changeType("edit")}}},[e._v("修改")]),a("a-button",{attrs:{type:"danger"},on:{click:e.deleteConfig}},[e._v("删除")])],1):e._e(),"edit"==e.type?a("div",[a("a-button",{attrs:{icon:"edit",type:"primary"},on:{click:e.editSave}},[e._v("保存")]),a("a-button",{attrs:{type:"danger"},on:{click:function(t){return e.changeType("info")}}},[e._v("取消")])],1):e._e(),"add"==e.type?a("div",[a("a-button",{attrs:{icon:"edit",type:"primary"},on:{click:e.save}},[e._v("保存")])],1):e._e(),-1==e.id&&"info"==e.type?a("div",[a("a-button",{attrs:{icon:"edit",type:"primary"},on:{click:e.copy}},[e._v("复制")])],1):e._e()]),a("div",{staticClass:"body",attrs:{slot:"body"},slot:"body"},[a("a-row",{staticClass:"config-item"},[a("a-row",{staticClass:"item-label"},[e._v(" 基础配置 ")]),a("a-row",{staticClass:"item-view",attrs:{gutter:[16,16]}},[a("a-form",{staticClass:"pl-form-line",attrs:{form:e.form}},[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"配置名称"}},[a("a-input",{attrs:{required:!0,disabled:"info"==e.type},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"基础包名"}},[a("a-input",{attrs:{disabled:"info"==e.type},model:{value:e.formData.packageName,callback:function(t){e.$set(e.formData,"packageName",t)},expression:"formData.packageName"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"作者"}},[a("a-input",{attrs:{disabled:"info"==e.type},model:{value:e.formData.author,callback:function(t){e.$set(e.formData,"author",t)},expression:"formData.author"}})],1)],1),a("a-col",{attrs:{span:8}},[a("a-form-item",{attrs:{label:"表前缀"}},[a("a-input",{attrs:{disabled:"info"==e.type},model:{value:e.formData.tablePrefix,callback:function(t){e.$set(e.formData,"tablePrefix",t)},expression:"formData.tablePrefix"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"是否装配"}},[a("a-switch",{attrs:{disabled:"info"==e.type},model:{value:e.formData.wired,callback:function(t){e.$set(e.formData,"wired",t)},expression:"formData.wired"}}),a("a-popover",{attrs:{placement:"topLeft"}},[a("template",{slot:"content"},[a("div",{staticClass:"qa-content"},[a("div",[e._v(" 1."),a("span",{staticClass:"code"},[e._v("Servicer")]),e._v("层将装配所对应的"),a("span",{staticClass:"code"},[e._v("Mapper")]),e._v("。 ")]),a("div",[e._v(" 2."),a("span",{staticClass:"code"},[e._v("Controller")]),e._v("层将装配所对应的"),a("span",{staticClass:"code"},[e._v("Service")]),e._v("。 ")])])]),a("a-icon",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{type:"alert"}})],2)],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"swagger"}},[a("a-switch",{attrs:{disabled:"info"==e.type},model:{value:e.formData.swagger,callback:function(t){e.$set(e.formData,"swagger",t)},expression:"formData.swagger"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"装配方式"}},[a("a-radio-group",{attrs:{name:"radioGroup",disabled:"info"==e.type||!e.formData.wired},model:{value:e.formData.wiredType,callback:function(t){e.$set(e.formData,"wiredType",t)},expression:"formData.wiredType"}},[a("a-radio",{attrs:{value:"resource"}},[e._v(" @Resource ")]),a("a-radio",{attrs:{value:"autoWired"}},[e._v(" @AutoWired ")]),a("a-radio",{attrs:{value:"constructor"}},[e._v(" 构造方法 ")])],1)],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"代码风格"}},[a("a-radio-group",{attrs:{name:"radioGroup",disabled:"info"==e.type},model:{value:e.formData.style,callback:function(t){e.$set(e.formData,"style",t)},expression:"formData.style"}},[a("a-radio",{attrs:{value:"pl-web"}},[e._v(" PL-WEB ")]),a("a-radio",{attrs:{value:"mybatis-plus"}},[e._v(" MyBatis-Plus ")]),a("a-radio",{attrs:{value:"mybatis"}},[e._v(" MyBatis ")])],1)],1)],1)],1)],1)],1),a("a-row",{staticClass:"config-item"},[a("a-row",{staticClass:"item-label"},[e._v(" 扩展配置 ")]),a("a-row",{staticClass:"item-view"},[a("a-tabs",{attrs:{"default-active-key":"typeMapperConfig"},on:{tabClick:e.bindOnTabChange}},[a("a-tab-pane",{key:"typeMapperConfig",attrs:{tab:"类型映射",forceRender:!0}},[a("type-mapper-config",{ref:"typeMapperConfig",attrs:{disabled:"info"==e.type,config:e.formData.typeMapperConfig}})],1),a("a-tab-pane",{key:"columnConfig",attrs:{tab:"字段配置","force-render":"",forceRender:!0}},[a("column-config",{ref:"columnConfig",attrs:{disabled:"info"==e.type,config:e.formData.columnConfig}})],1),a("a-tab-pane",{key:"entityConfig",attrs:{tab:"Entity配置",forceRender:!0}},[a("entity-config",{ref:"entityConfig",attrs:{disabled:"info"==e.type,config:e.formData.entityConfig}})],1),a("a-tab-pane",{key:"mapperConfig",attrs:{tab:"Mapper配置",forceRender:!0}},[a("mapper-config",{ref:"mapperConfig",attrs:{disabled:"info"==e.type,config:e.formData.mapperConfig}})],1),a("a-tab-pane",{key:"controllerConfig",attrs:{tab:"Controller配置",forceRender:!0}},[a("controller-config",{ref:"controllerConfig",attrs:{disabled:"info"==e.type,config:e.formData.controllerConfig}})],1)],1)],1)],1)],1)],2)},pt=[],mt=[{columnType:"decimal",javaType:"BigDecimal",importPackage:!0,packageName:"java.math.BigDecimal"},{columnType:"float",javaType:"Float",importPackage:!1,packageName:"java.lang.Float"},{columnType:"integer",javaType:"Integer",importPackage:!1,packageName:"java.lang.Integer"},{columnType:"timestamp",javaType:"LocalDateTime",importPackage:!0,packageName:"java.time.LocalDateTime"},{columnType:"bigint",javaType:"Long",importPackage:!1,packageName:"java.lang.Long"},{columnType:"datetime",javaType:"LocalDateTime",importPackage:!0,packageName:"java.time.LocalDateTime"},{columnType:"mediumint",javaType:"Integer",importPackage:!1,packageName:"java.lang.Integer"},{columnType:"tinyint",javaType:"Integer",importPackage:!1,packageName:"java.lang.Integer"},{columnType:"varchar",javaType:"String",importPackage:!1,packageName:"java.lang.String"},{columnType:"mediumtext",javaType:"String",importPackage:!1,packageName:"java.lang.String"},{columnType:"date",javaType:"LocalDate",importPackage:!0,packageName:"java.time.LocalDate"},{columnType:"smallint",javaType:"Integer",importPackage:!1,packageName:"java.lang.Integer"},{columnType:"int",javaType:"Integer",importPackage:!1,packageName:"java.lang.Integer"},{columnType:"bit",javaType:"Boolean",importPackage:!1,packageName:"java.lang.Boolean"},{columnType:"tinytext",javaType:"String",importPackage:!1,packageName:"java.lang.String"},{columnType:"double",javaType:"Double",importPackage:!1,packageName:"java.lang.Double"},{columnType:"text",javaType:"String",importPackage:!1,packageName:"java.lang.String"},{columnType:"char",javaType:"String",importPackage:!1,packageName:"java.lang.String"},{columnType:"longtext",javaType:"String",importPackage:!1,packageName:"java.lang.String"}],ft={extendsSuper:!1,superClassPackage:null,superClassGenericPackage:null,lombokConfig:{enable:!0,builder:!1,data:!0,getter:!1,setter:!1,toStr:!1,equalsAndHashCode:!1,allArgsConstructor:!1,noAllArgsConstructor:!1,accessors:{enable:!1,mode:null,prefixModeValue:null}}},bt={commonColumns:"create_time,update_time,create_user_id，update_user_id,delete_flag",hiddenColumns:"",logicDeleteColumns:"delete_flag",insertFillColumns:"create_time,create_user_id",updateFillColumns:"",insertOrUpdateFillColumns:"update_time,update_user_id"},gt={buildXml:!0,mapperAnnotation:!0,idType:"assign_id",method:null},vt={basicApi:!0,responseEntity:{packageName:"com.pl.core.response.Result",successMethod:"ok",errorMethod:"fail"}},ht={packageName:"com.pl",author:"plserver",tablePrefix:"pl_",style:"pl-web",wired:!0,wiredType:"resource",swagger:!0,typeMapperConfig:mt,columnConfig:bt,entityConfig:ft,mapperConfig:gt,controllerConfig:vt},yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"config-view"},[e.disabled?e._e():a("div",{staticClass:"view-header"},[a("a-button",{attrs:{type:"primary",size:"small",icon:"plus"},on:{click:e.addRow}},[e._v("新增")])],1),a("a-table",{attrs:{columns:e.columns,"data-source":e.tableData,rowKey:"columnType",pagination:!1},scopedSlots:e._u([{key:"index",fn:function(t,n,o){return a("span",{},[e._v(" "+e._s(parseInt(o)+1)+" ")])}},{key:"columnType",fn:function(t,n){return a("div",{},[n.edit?a("a-input",{staticStyle:{margin:"-5px 0"},model:{value:e.editRow.columnType,callback:function(t){e.$set(e.editRow,"columnType",t)},expression:"editRow.columnType"}}):[e._v(" "+e._s(n.columnType))]],2)}},{key:"javaType",fn:function(t,n){return a("div",{},[n.edit?a("a-input",{staticStyle:{margin:"-5px 0"},model:{value:e.editRow.javaType,callback:function(t){e.$set(e.editRow,"javaType",t)},expression:"editRow.javaType"}}):[e._v(" "+e._s(n.javaType))]],2)}},{key:"importPackage",fn:function(t,n){return a("span",{},[n.edit?a("a-switch",{attrs:{checked:e.editRow.importPackage},on:{change:e.importPackageChange}}):[e._v(" "+e._s(n.importPackage))]],2)}},{key:"packageName",fn:function(t,n){return a("div",{},[n.edit?a("a-input",{staticStyle:{margin:"-5px 0"},model:{value:e.editRow.packageName,callback:function(t){e.$set(e.editRow,"packageName",t)},expression:"editRow.packageName"}}):[e._v(" "+e._s(n.packageName))]],2)}},{key:"Action",fn:function(t,n,o){return[n.edit?e._e():a("a-button",{attrs:{type:"link",size:"small",disabled:e.disabled},on:{click:function(t){return e.edit(o,n)}}},[e._v("修改 ")]),n.edit?e._e():a("a-button",{attrs:{type:"link",size:"small",disabled:e.disabled}},[e._v("删除")]),n.edit?a("a-button",{attrs:{type:"link",size:"small",disabled:e.disabled},on:{click:function(t){return e.editSave(o,n)}}},[e._v("保存 ")]):e._e(),n.edit?a("a-button",{attrs:{type:"link",size:"small",disabled:e.disabled},on:{click:function(t){return e.cancelEdit(o,n)}}},[e._v(" 取消 ")]):e._e()]}}])})],1)},Ct=[],kt=[{key:"index",title:"序号",dataIndex:"index",width:55,align:"center",scopedSlots:{customRender:"index"}},{key:"columnType",title:"数据库类型",dataIndex:"columnType",width:180,scopedSlots:{customRender:"columnType"}},{key:"javaType",title:"Java类型",dataIndex:"javaType",width:180,scopedSlots:{customRender:"javaType"}},{key:"importPackage",title:"是否导包",dataIndex:"importPackage",width:180,scopedSlots:{customRender:"importPackage"}},{key:"packageName",title:"包名",dataIndex:"packageName",width:180,scopedSlots:{customRender:"packageName"}},{title:"操作",key:"Action",scopedSlots:{customRender:"Action"},fixed:"right",width:280,align:"center"}],_t={name:"type-mapper-config",props:{disabled:{type:Boolean,default:!0},config:{type:Array,default:function(){return null}}},data:function(){return{tableData:[],columns:kt,editRow:null}},created:function(){},methods:{render:function(e){var t=Object(b["a"])(e);t.forEach((function(e){e.edit=!1})),this.tableData=t},edit:function(e,t){this.editRow=Object(g["a"])({},t),t.edit=!0,this.$set(this.tableData,e,t)},editSave:function(e,t){this.editRow.columnType&&this.editRow.javaType?!this.editRow.importPackage||this.editRow.packageName?(t.edit=!1,this.$set(this.tableData,e,Object(g["a"])({},this.editRow)),this.editRow=null):this.$message.error("包名不能为空"):this.$message.error("数据库类型或Java类型不能为空")},cancelEdit:function(e,t){this.editRow=null,t.isAdd?this.tableData.splice(0,1):(t.edit=!1,this.$set(this.tableData,e,t))},importPackageChange:function(e){this.editRow.importPackage=e},addRow:function(){var e=Object(b["a"])(this.tableData);e.forEach((function(e){e.edit=!1}));var t={columnType:null,javaType:null,importPackage:!1,packageName:null,edit:!0,isAdd:!0};this.editRow=Object(g["a"])({},t),e.splice(0,0,t),this.tableData=e},getConfig:function(){var e=Object(b["a"])(this.tableData);return e.forEach((function(e){delete e.edit,delete e.isAdd})),{name:"typeMapperConfig",config:e}}},watch:{config:{deep:!0,handler:function(e){this.render(e)}}}},jt=_t,wt=(a("96d9"),Object(l["a"])(jt,yt,Ct,!1,null,"787e5680",null)),xt=wt.exports,Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"config-view"},[a("a-row",{staticClass:"item-view",attrs:{gutter:[16,16]}},[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"公共字段"}},[a("a-input",{attrs:{placeholder:"默认：create_time,update_time,create_user_id，update_user_id,delete_flag",disabled:e.disabled},model:{value:e.formData.commonColumns,callback:function(t){e.$set(e.formData,"commonColumns",t)},expression:"formData.commonColumns"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"隐藏字段"}},[a("a-input",{attrs:{placeholder:"隐藏字段将不会被生成",disabled:e.disabled},model:{value:e.formData.hiddenColumns,callback:function(t){e.$set(e.formData,"hiddenColumns",t)},expression:"formData.hiddenColumns"}})],1)],1),a("a-col",{attrs:{span:24}},[a("span",{staticStyle:{color:"rgba(0, 0, 0, 0.85)","font-weight":"bold"}},[e._v("MyBatis-Plus特性")]),a("a-popover",{attrs:{placement:"topLeft"}},[a("template",{slot:"content"},[a("div",{staticClass:"qa-content"},[a("div",[e._v("以下配置为MyBatis-Plus的特性，需要在"),a("span",{staticClass:"code"},[e._v("Mapper配置")]),e._v("中设置风格为MyBatis-Plus才有效。")]),a("div",[e._v("Insert：会生成"),a("span",{staticClass:"code"},[e._v("@TableField(fill = FieldFill.INSERT)")]),e._v("注解，在执行insert语句时会自动维护所配置的字段。")]),a("div",[e._v("Update：会生成"),a("span",{staticClass:"code"},[e._v("@TableField(fill = FieldFill.UPDATE)")]),e._v("注解，在执行update语句时会自动维护所配置的字段。")]),a("div",[e._v("Insert & Update：会生成"),a("span",{staticClass:"code"},[e._v("@TableField(fill = FieldFill.INSERT_UPDATE)")]),e._v("注解，在执行insert或update语句时会自动维护所配置的字段。")]),a("div",[e._v("设置逻辑删除的字段，成员变量上会生成"),a("span",{staticClass:"code"},[e._v("@TableLogic")]),e._v("注解。")])])]),a("a-icon",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{type:"alert"}})],2)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"逻辑删除"}},[a("a-input",{attrs:{placeholder:"默认：delete_flag",disabled:e.disabled},model:{value:e.formData.logicDeleteColumns,callback:function(t){e.$set(e.formData,"logicDeleteColumns",t)},expression:"formData.logicDeleteColumns"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"Insert Fill"}},[a("a-input",{attrs:{placeholder:"Insert时自动填充字段，默认：create_time,create_user_id",disabled:e.disabled},model:{value:e.formData.insertFillColumns,callback:function(t){e.$set(e.formData,"insertFillColumns",t)},expression:"formData.insertFillColumns"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"Update Fill"}},[a("a-input",{attrs:{placeholder:"Update时自动填充字段",disabled:e.disabled},model:{value:e.formData.updateFillColumns,callback:function(t){e.$set(e.formData,"updateFillColumns",t)},expression:"formData.updateFillColumns"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"insert & Update Fill"}},[a("a-input",{attrs:{placeholder:"Insert和Update时自动填充字段默认：update_time,update_user_id",disabled:e.disabled},model:{value:e.formData.insertOrUpdateFillColumns,callback:function(t){e.$set(e.formData,"insertOrUpdateFillColumns",t)},expression:"formData.insertOrUpdateFillColumns"}})],1)],1)],1)],1)},Tt=[],St={name:"config-view",props:{disabled:{type:Boolean,default:!0},config:{type:Object,default:function(){return null}}},watch:{config:{deep:!0,handler:function(e){this.formData=Object(g["a"])({},e)}}}},$t=St,Nt=Object(l["a"])($t,he,ye,!1,null,"3cf7ed42",null),Ot=Nt.exports,Pt={extends:Ot,name:"column-config",data:function(){return{formData:ht.columnConfig}},created:function(){this.formData=Object(g["a"])({},this.config)},methods:{getConfig:function(){return{name:"columnConfig",config:this.formData}}}},At=Pt,It=Object(l["a"])(At,Dt,Tt,!1,null,"6000712e",null),Et=It.exports,zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"config-view entity-config"},[a("a-row",{staticClass:"item-view",attrs:{gutter:[16,16]}},[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"开启lombok"}},[a("a-switch",{attrs:{disabled:e.disabled},model:{value:e.formData.lombokConfig.enable,callback:function(t){e.$set(e.formData.lombokConfig,"enable",t)},expression:"formData.lombokConfig.enable"}}),a("div",{staticClass:"lombox-checkbox-group"},[a("a-checkbox",{attrs:{disabled:!e.formData.lombokConfig.enable||e.disabled},model:{value:e.formData.lombokConfig.builder,callback:function(t){e.$set(e.formData.lombokConfig,"builder",t)},expression:"formData.lombokConfig.builder"}},[e._v(" @Builder ")]),a("a-checkbox",{attrs:{disabled:!e.formData.lombokConfig.enable||e.disabled},model:{value:e.formData.lombokConfig.data,callback:function(t){e.$set(e.formData.lombokConfig,"data",t)},expression:"formData.lombokConfig.data"}},[e._v(" @Data ")]),a("a-checkbox",{attrs:{disabled:!e.formData.lombokConfig.enable||e.disabled},model:{value:e.formData.lombokConfig.getter,callback:function(t){e.$set(e.formData.lombokConfig,"getter",t)},expression:"formData.lombokConfig.getter"}},[e._v(" @Getter ")]),a("a-checkbox",{attrs:{disabled:!e.formData.lombokConfig.enable||e.disabled},model:{value:e.formData.lombokConfig.setter,callback:function(t){e.$set(e.formData.lombokConfig,"setter",t)},expression:"formData.lombokConfig.setter"}},[e._v(" @Setter ")]),a("a-checkbox",{attrs:{disabled:!e.formData.lombokConfig.enable||e.disabled},model:{value:e.formData.lombokConfig.toStr,callback:function(t){e.$set(e.formData.lombokConfig,"toStr",t)},expression:"formData.lombokConfig.toStr"}},[e._v(" @ToString ")]),a("a-checkbox",{attrs:{disabled:!e.formData.lombokConfig.enable||e.disabled},model:{value:e.formData.lombokConfig.equalsAndHashCode,callback:function(t){e.$set(e.formData.lombokConfig,"equalsAndHashCode",t)},expression:"formData.lombokConfig.equalsAndHashCode"}},[e._v("@EqualsAndHashCode ")]),a("a-checkbox",{attrs:{disabled:!e.formData.lombokConfig.enable||e.disabled},model:{value:e.formData.lombokConfig.allArgsConstructor,callback:function(t){e.$set(e.formData.lombokConfig,"allArgsConstructor",t)},expression:"formData.lombokConfig.allArgsConstructor"}},[e._v("@AllArgsConstructor ")]),a("a-checkbox",{attrs:{disabled:!e.formData.lombokConfig.enable||e.disabled},model:{value:e.formData.lombokConfig.noAllArgsConstructor,callback:function(t){e.$set(e.formData.lombokConfig,"noAllArgsConstructor",t)},expression:"formData.lombokConfig.noAllArgsConstructor"}},[e._v("@NoAllArgsConstructor ")])],1)],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"继承父类"}},[a("a-switch",{attrs:{disabled:e.disabled},model:{value:e.formData.extendsSuper,callback:function(t){e.$set(e.formData,"extendsSuper",t)},expression:"formData.extendsSuper"}}),a("a-popover",{attrs:{placement:"topLeft"}},[a("template",{slot:"content"},[a("div",{staticClass:"qa-content"},[a("div",[e._v("1.继承父类并配置公共字段后，Entity中将不在生成所配置公共字段。")]),a("div",[e._v("2.如果"),a("span",{staticClass:"code"},[e._v("Mapper配置")]),e._v("中设置了风格为"),a("span",{staticClass:"code"},[e._v("PL-WEB")]),e._v(",父类将继承"),a("span",{staticClass:"code"},[e._v("AbstractPlEntity")]),e._v("。 ")]),a("div",[e._v("3.如果"),a("span",{staticClass:"code"},[e._v("Mapper配置")]),e._v("中设置了风格为"),a("span",{staticClass:"code"},[e._v("MyBatis-Plus")]),e._v(",父类将继承"),a("span",{staticClass:"code"},[e._v("Model")]),e._v("。 ")])])]),a("a-icon",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{type:"alert"}})],2)],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"父类包名"}},[a("a-popover",{attrs:{placement:"bottomLeft"}},[a("template",{slot:"content"},[a("div",{staticClass:"qa-content"},[a("div",[e._v("1.代码风格为："),a("span",{staticClass:"code"},[e._v("PL-WEB")]),e._v("，默认为："),a("span",{staticClass:"code"},[e._v("com.pl.data.core.entity.po.AbstractPlEntity")]),e._v("。 ")]),a("div",[e._v("2.代码风格为："),a("span",{staticClass:"code"},[e._v("MyBatis-Plus")]),e._v("，默认为："),a("span",{staticClass:"code"},[e._v("com.baomidou.mybatisplus.extension.activerecord.Model")]),e._v("。 ")]),a("div",[e._v("3.代码风格为："),a("span",{staticClass:"code"},[e._v("MyBatis")]),e._v("，默认为空。")])])]),a("a-input",{attrs:{placeholder:"请输入父类包名",disabled:e.disabled},model:{value:e.formData.superClassPackage,callback:function(t){e.$set(e.formData,"superClassPackage",t)},expression:"formData.superClassPackage"}})],2)],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"父类泛型包名"}},[a("a-popover",{attrs:{placement:"bottomLeft"}},[a("template",{slot:"content"},[a("div",{staticClass:"qa-content"},[a("div",[e._v("1.默认为空,如果Mapper风格为"),a("span",{staticClass:"code"},[e._v("PL-WEB")]),e._v("或"),a("span",{staticClass:"code"},[e._v("MyBatis-Plus")]),e._v("，默认为："),a("span",{staticClass:"code"},[e._v("this")]),e._v(',自定义时，多个用","隔开\'。 ')]),a("div",[e._v("2."),a("span",{staticClass:"code"},[e._v("this")]),e._v("等于"),a("span",{staticClass:"code"},[e._v("Entity")]),e._v("的类名。")])])]),a("a-textarea",{attrs:{"auto-size":{minRows:4,maxRows:6},placeholder:'默认为空，如果使用Mybatis-Plus，默认为：this,this代表当前类,多个用","隔开',disabled:e.disabled},model:{value:e.formData.superClassGenericPackage,callback:function(t){e.$set(e.formData,"superClassGenericPackage",t)},expression:"formData.superClassGenericPackage"}})],2)],1)],1)],1)],1)},Rt=[],Mt={extends:Ot,name:"entity-config",data:function(){return{formData:ht.entityConfig}},methods:{render:function(e){e&&(this.formData=e)},getConfig:function(){return{name:"entityConfig",config:this.formData}}}},Lt=Mt,Ft=(a("329d"),Object(l["a"])(Lt,zt,Rt,!1,null,"7c594c6a",null)),qt=Ft.exports,Bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"config-view mapper-config"},[a("a-row",{staticClass:"item-view",attrs:{gutter:[16,16]}},[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"添加@Mapper注解"}},[a("a-switch",{attrs:{disabled:e.disabled},model:{value:e.formData.mapperAnnotation,callback:function(t){e.$set(e.formData,"mapperAnnotation",t)},expression:"formData.mapperAnnotation"}})],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"生成XML"}},[a("a-switch",{attrs:{disabled:e.disabled},model:{value:e.formData.buildXml,callback:function(t){e.$set(e.formData,"buildXml",t)},expression:"formData.buildXml"}})],1)],1)],1)],1)},Vt=[],Ut={extends:Ot,name:"mapper-config",data:function(){return{formData:ht.mapperConfig}},methods:{getConfig:function(){return{name:"mapperConfig",config:this.formData}}}},Gt=Ut,Xt=(a("66c0"),Object(l["a"])(Gt,Bt,Vt,!1,null,"c10438b2",null)),Wt=Xt.exports,Ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"config-view"},[a("a-row",{staticClass:"item-view",attrs:{gutter:[16,16]}},[a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"生成API"}},[a("a-switch",{attrs:{disabled:e.disabled},model:{value:e.formData.basicApi,callback:function(t){e.$set(e.formData,"basicApi",t)},expression:"formData.basicApi"}}),a("a-popover",{attrs:{placement:"topLeft"}},[a("template",{slot:"content"},[a("div",{staticClass:"qa-content"},[a("div",[e._v("1.开启后将生成 "),a("span",{staticClass:"code"},[e._v("save")]),e._v("、 "),a("span",{staticClass:"code"},[e._v("remove")]),e._v("、 "),a("span",{staticClass:"code"},[e._v("update")]),e._v("、 "),a("span",{staticClass:"code"},[e._v("getById")]),e._v("、 "),a("span",{staticClass:"code"},[e._v("page")]),e._v("、 "),a("span",{staticClass:"code"},[e._v("list")]),e._v("等接口方法 ")])])]),a("a-icon",{staticStyle:{"margin-left":"10px",cursor:"pointer"},attrs:{type:"alert"}})],2)],1)],1),a("a-col",{attrs:{span:24}},[a("a-form-item",{attrs:{label:"响应实体包名"}},[a("a-popover",{attrs:{placement:"bottomLeft"}},[a("template",{slot:"content"},[a("div",{staticClass:"qa-content"},[a("div",[e._v("1.代码风格为："),a("span",{staticClass:"code"},[e._v("PL-WEB")]),e._v("，默认为："),a("span",{staticClass:"code"},[e._v("com.pl.core.response.Result")]),e._v("。 ")])])]),a("a-input",{attrs:{placeholder:"请输入响应实体包名",disabled:e.disabled},model:{value:e.formData.responseEntity.packageName,callback:function(t){e.$set(e.formData.responseEntity,"packageName",t)},expression:"formData.responseEntity.packageName"}})],2)],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"成功方法"}},[a("a-popover",{attrs:{placement:"bottomLeft"}},[a("template",{slot:"content"},[a("div",{staticClass:"qa-content"},[a("div",[e._v("1.如成功返回为："),a("span",{staticClass:"code"},[e._v("Result.ok(data)")]),e._v("则填写："),a("span",{staticClass:"code"},[e._v("ok")]),e._v("。")])])]),a("a-input",{attrs:{placeholder:"请输入成功方法",disabled:e.disabled},model:{value:e.formData.responseEntity.successMethod,callback:function(t){e.$set(e.formData.responseEntity,"successMethod",t)},expression:"formData.responseEntity.successMethod"}})],2)],1)],1),a("a-col",{attrs:{span:12}},[a("a-form-item",{attrs:{label:"失败方法"}},[a("a-popover",{attrs:{placement:"bottomLeft"}},[a("template",{slot:"content"},[a("div",{staticClass:"qa-content"},[a("div",[e._v("1.如失败返回为："),a("span",{staticClass:"code"},[e._v("Result.fail(data)")]),e._v("则填写："),a("span",{staticClass:"code"},[e._v("fail")]),e._v("。")])])]),a("a-input",{attrs:{placeholder:"请输入失败方法",disabled:e.disabled},model:{value:e.formData.responseEntity.errorMethod,callback:function(t){e.$set(e.formData.responseEntity,"errorMethod",t)},expression:"formData.responseEntity.errorMethod"}})],2)],1)],1)],1)],1)},Jt=[],Kt={extends:Ot,name:"controller-config",data:function(){return{formData:ht.controllerConfig}},methods:{getConfig:function(){return{name:"controllerConfig",config:this.formData}}}},Qt=Kt,Yt=Object(l["a"])(Qt,Ht,Jt,!1,null,"38f586b3",null),Zt=Yt.exports,ea={name:"info",components:{ControllerConfig:Zt,MapperConfig:Wt,EntityConfig:qt,ColumnConfig:Et,TypeMapperConfig:xt},data:function(){return{title:"",formData:ht,form:this.$form.createForm(this,{name:"horizontal_login"}),id:null,type:"info"}},created:function(){var e=this.$route.params.type||"add";this.type=e;var t=this.$route.params.id;t&&(this.id=t,this.getConfigDetail()),console.log(e)},mounted:function(){},methods:{getConfigDetail:function(){var e=this;ue(this.id).then((function(t){var a=t.config;console.log(a),e.title=t.name,e.formData=a,e.$refs.pageView.setTitle(t.name),e.renderConfig()}))},renderConfig:function(){},bindOnTabChange:function(){},changeType:function(e){this.type=e},save:function(){var e=this;fe(this.title,JSON.stringify(this.getConfig())).then((function(t){e.$refs.pageView.setTitle(e.title),e.$message.success("添加成功"),e.type="info",setTimeout((function(){e.$router.push("/config/info/".concat(t))}),1e3)}))},editSave:function(){var e=this;be(this.id,this.title,JSON.stringify(this.getConfig())).then((function(){e.$refs.pageView.setTitle(e.title),e.$message.success("修改成功")}))},deleteConfig:function(){var e=this;ge(this.id).then((function(){e.$message.success("删除成功"),e.$router.push("/config/index")}))},copy:function(){this.$router.push("/config/add/".concat(this.id)),this.type="add"},getConfig:function(){var e=this,t=Object(g["a"])({},this.formData),a=["typeMapperConfig","entityConfig","columnConfig","mapperConfig","controllerConfig"];return a.forEach((function(a){console.log(a),t[a]=e.$refs[a].getConfig().config})),console.log(t),t}}},ta=ea,aa=(a("3f34"),Object(l["a"])(ta,ut,pt,!1,null,"4719697a",null)),na=aa.exports;n["a"].use(p["a"]);var oa=[{path:"/",name:"首页",component:T,redirect:"/datasource/index"},{path:"/datasource",name:"数据源",component:T,redirect:"/datasource/index",children:[{path:"index",name:"数据源列表",component:te},{path:":id",name:"数据源详情",component:He},{path:"design/:id",name:"表设计",component:at}]},{path:"/config",name:"配置",component:T,redirect:"/config/index",children:[{path:"index",name:"配置列表",component:dt},{path:":type/:id",name:"配置详情",component:na},{path:"add",name:"新增配置",component:na}]}],sa=new p["a"]({routes:oa});sa.beforeEach((function(e,t,a){e.name&&(document.title=e.name),a()}));var ia=sa,ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page"},[a("div",{staticClass:"page-header"},[a("a-page-header",{attrs:{title:e.title,breadcrumb:{props:{routes:e.routes}}}},[a("template",{slot:"extra"},[e._t("header-bar")],2)],2)],1),a("div",{staticClass:"page-body"},[a("div",{staticClass:"body-view"},[e._t("body")],2)]),a("div",{staticClass:"page-footer"})])},la=[],ca={name:"page",data:function(){return{routes:[],title:this.$route.name}},created:function(){this.initBreadcrumb()},methods:{initBreadcrumb:function(){var e=[];this.$route.matched.forEach((function(t){e.push({path:t.path,breadcrumbName:t.name})})),this.routes=e},setTitle:function(e,t){this.title=e,t&&(this.routes[this.routes.length-1].breadcrumbName=e)}}},da=ca,ua=(a("4f77"),Object(l["a"])(da,ra,la,!1,null,"32b71966",null)),pa=ua.exports,ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-table",{attrs:{"table-layout":"fixed",columns:e.columns,"data-source":e.tableData,size:e.size,pagination:e.pagination,loading:e.loading,rowKey:e.rowKey,bordered:e.bordered},on:{change:e.bindOnChange},scopedSlots:e._u([{key:"index",fn:function(t,n,o){return e.showIndex?a("span",{},[e._v(" "+e._s((e.pagination.current-1)*e.pagination.size+parseInt(o)+1)+" ")]):e._e()}},{key:"Action",fn:function(t,n){return a("div",{},[e._t("tableAction",null,{row:n})],2)}}],null,!0)},[e._t("plColumns")],2)},fa=[],ba={showTotal:function(e){return"共有 ".concat(e," 条数据")},total:0,size:"10",current:1},ga={name:"pl-table",props:{columns:{type:Array,default:null},page:{type:Boolean,default:!0},showIndex:{type:Boolean,default:!0},loadMethod:{type:Function,default:null},rowKey:{type:String,default:"id"},size:{type:String,default:"default"},bordered:{type:Boolean,default:!1},pageData:{type:[Object,Array,String,Number],default:null},height:{type:String,default:"560"}},data:function(){return{tableData:[],pagination:ba,loading:!1}},mounted:function(){this.loadData()},methods:{loadData:function(){var e=this;this.loadMethod&&(this.loading=!0,this.loadMethod(this.pagination,this.pageData).then((function(t){e.tableData=t.records,e.pagination.current=t.current,e.pagination.total=t.total,e.loading=!1})).catch((function(){e.loading=!1})))},bindOnChange:function(e){e.current==this.pagination.current&&e.size==this.pagination.size||(this.pagination.current=e.current,this.pagination.size=e.size,this.loadData())}}},va=ga,ha=(a("4855"),Object(l["a"])(va,ma,fa,!1,null,"37cfbd75",null)),ya=ha.exports;n["a"].use(j["a"]);var Ca=new j["a"].Store({state:{datasourceList:null},mutations:{SET_DATASOURCE_LIST:function(e,t){e.datasourceList=t}},actions:{refreshDsMenus:function(e){var t=e.commit;M().then((function(e){t("SET_DATASOURCE_LIST",e)}))}}}),ka=Ca;n["a"].config.productionTip=!1,n["a"].use(u["a"],{size:"small"}),n["a"].component("PageView",pa),n["a"].component("PlTable",ya),new n["a"]({store:ka,router:ia,render:function(e){return e(d)}}).$mount("#app")},"64c6":function(e,t,a){"use strict";a("358a")},"66c0":function(e,t,a){"use strict";a("ee47")},"7c55":function(e,t,a){"use strict";a("2395")},"96d9":function(e,t,a){"use strict";a("552c")},ab70:function(e,t,a){},b1c1:function(e,t,a){},bb16:function(e,t,a){},c26a:function(e,t,a){},ce76:function(e,t,a){"use strict";a("b1c1")},ee47:function(e,t,a){},ee5b:function(e,t,a){}});
//# sourceMappingURL=app.c894fcd3.js.map